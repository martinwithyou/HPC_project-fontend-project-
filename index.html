<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ceph</title>
	<link rel="shortcut icon" href="utils/favicon.ico" type="image/x-icon" />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="bower_components/blueimp-file-upload/css/jquery.fileupload-ui.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="bower_components/lodash/dist/lodash.min.js"></script>
	<script type="text/javascript" src="bower_components/blueimp-file-upload/js/vendor/jquery.ui.widget.js"></script>
	<script type="text/javascript" src="bower_components/blueimp-file-upload/js/jquery.fileupload.js"></script>
	<script type="text/javascript" src="bower_components/blueimp-file-upload/js/jquery.iframe-transport.js"></script>
	<script type="text/javascript" src="bower_components/echarts/echarts.common.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
</head>
<body>

	<div id="loginView">
		<header>
			<img  id="web_image" src="utils/logo.png">
		</header>
		<div class="content">
			
			<form role="form" name="login"  class="mobile_login">
				<h3 id="login_title">登陆</h3>
				<div class="alert alert-danger" role="loginAlert" style="display: none;"></div>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
					<input type="text" class="form-control" placeholder="用户名" name="userName">
				</div>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
					<input type="password" class="form-control" placeholder="密码" name="password">
				</div>
				<div class="form-group">
					<label class="checkbox checker mobile_check">
						<input type="checkbox" name="remember">
						30天免登陆
					</label>
					<button class="btn pull-right green" id="btn_login" type="button">
						登陆
						<span class="glyphicon glyphicon-arrow-right"></span>
					</button>
				</div>
				<div  class="mobile_reset">
					<p>
						忘记密码？点 <a href="javascript:;" id="forget-password">这里</a>
						重置
					</p>
				</div>
				<div class="mobile_register">
					<p>
						还没有账号？&nbsp; 
						<a href="javascript:;" id="register-btn">点击注册</a>
					</p>
				</div>
			</form>

			<form role="form" name="forget" style="display: none;">
				<h3>重置密码</h3>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></span>
					<input type="text" class="form-control" placeholder="邮箱" name="email_forget">
				</div>
				<div class="form-group">
					<button class="btn" id="return_forget_login" type="button">
						后退
						<span class="glyphicon glyphicon-arrow-left"></span>
					</button>
					<button class="btn pull-right green" id="btn_forget" type="button">
						确认
						<span class="glyphicon glyphicon-arrow-right"></span>
					</button>
				</div>
				<div>
					<p>
						有问题？请拨打管理员电话。
					</p>
				</div>
			</form>

			<form role="form" name="sign" style="display: none;">
				<h3>注册</h3>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
					<input type="text" class="form-control" placeholder="用户名" name="userName_sign">
				</div>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
					<input type="password" class="form-control" placeholder="密码" name="password_sign">
				</div>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-ok"></span></span>
					<input type="password" class="form-control" placeholder="确认密码" name="password_sign_again">
				</div>
				<div class="input-group loginInput">
					<span class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></span>
					<input type="text" class="form-control" placeholder="邮箱" name="email_sign">
				</div>
				<div class="form-group">
					<button class="btn" id="return_sign_login" type="button">
						后退
						<span class="glyphicon glyphicon-arrow-left"></span>
					</button>
					<button class="btn pull-right green" id="btn_sign" type="button">
						注册
						<span class="glyphicon glyphicon-arrow-right"></span>
					</button>
				</div>
				<div>
					<p>
						有问题？请拨打管理员电话。
					</p>
				</div>
			</form>

		</div>
		<footer style="margin-top: 25vh;">
			© 2016, Red Hat, Inc. All rights reserved.
		</footer>
	</div>

	<div id="userView" style="display: none;">
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<img src="utils/logo-min.png">
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown" id="header_task_bar">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
								<i class="glyphicon glyphicon-th-list"></i>
								<span class="badge"></span>
							</a>
						</li>

						<li class="dropdown" id="header_setting_bar">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="glyphicon glyphicon-cog"></i>
						</a>

						<ul class="dropdown-menu extended tasks">

							<li data-role="object">
								<a> 对象存储</a>
							</li>
							<li data-role="block">
								<a> 块存储</a>
							</li>
							<li data-role="file">
								<a> 文件存储</a>
							</li>
					
						</ul>

						</li>

						<li class="dropdown" id="header_setting_bar">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<span>guest</span>
						</a>

						<ul class="dropdown-menu extended tasks">

							<li>
								<a> 
								<span class="glyphicon glyphicon-refresh"></span>
								<span>修改密码</span>
								</a>
							</li>
							<li role="presentation" class="divider"></li>
							<li role="logout">
								<a>
								<span class="glyphicon glyphicon-log-out"></span>
								<span>退出登录</span>
								</a>
							</li>

						</ul>

						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="content container-fluid working_area" role="object">
			<header>
				<h3><span id='userID'>guest</span>的网盘</h3>
			</header>
			<div class="col-md-12">
				<button type="button" class="btn btn-success">
					<span class="glyphicon glyphicon-folder-open"></span>
					<span>新建文件夹</span>
				</button>
				<button type="button" class="btn btn-primary">
					<span class="glyphicon glyphicon-circle-arrow-up"></span>
					<span>上传文件</span>
					<input id="btn_upload" type="file" name="files" multiple>
				</button>
				<div id="upload_files"></div>
			</div>
			<table class="table table-striped">
			  <thead>
			  	<tr>
			  		<th>名称</th>
			  		<th>上传日期</th>
			  		<th>文件大小</th>
			  		<th>操作</th>
			  	</tr>
			  </thead>
			  <tbody id="fileTable">
			  	
			  </tbody>
			</table>
		</div>
		<div class="content container-fluid working_area" role="block" style="display: none;">
			<header>
				<h3><span id='userID'>guest</span>的块</h3>
			</header>
			<div class="col-md-6">
				<div class="blockList">
					<header>可选列表</header>
					<section>
						<ul>
							<li>disk1</li>
							<li>disk2</li>
							<li>disk3</li>
						</ul>
					</section>
				</div>
			</div>
			<div class="col-md-6">
				<div class="blockList">
					<header>已挂载</header>
					<section>
						<ul>
							<li>disk4</li>
						</ul>
					</section>
				</div>
			</div>
		</div>
		<div class="content container-fluid working_area" role="file" style="display: none;">
			<header>
				<h3><span id='userID'>guest</span>的文件地址</h3>
			</header>
			<p>cephfs://10.240.212.252</p>
			<p>用户名:VDI</p>
			<p>密码:thisisforged</p>
		</div>
	</div>

	<div id="adminView" style="display: none;">
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<img src="utils/logo-min.png">
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown" id="header_setting_bar">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<span>admin</span>
						</a>

						<ul class="dropdown-menu extended tasks">

							<li>
								<a> 
								<span class="glyphicon glyphicon-refresh"></span>
								<span>修改密码</span>
								</a>
							</li>
							<li role="presentation" class="divider"></li>
							<li role="logout">
								<a>
								<span class="glyphicon glyphicon-log-out"></span>
								<span>退出登录</span>
								</a>
							</li>

						</ul>

						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="dashList" style="margin-top: 0px;">
			<ul class="nav nav-pills nav-stacked" role="tablist" style="text-align: center;height: 100vh;border-right: 3px solid #cfcfcf;">
			  <li role="presentation" class="active" data-target="dashBody"><a><span class="glyphicon glyphicon-dashboard"></span>总览</a></li>
			  <li role="presentation" data-target="dashMonitor"><a><span class="glyphicon glyphicon-dashboard"></span>集群监控</a></li>
			  <li role="presentation" data-target="objectMan"><a><span class="glyphicon glyphicon-folder-open"></span>对象存储</a></li>
			  <li role="presentation" data-target="blockMan"><a><span class="glyphicon glyphicon-hdd"></span>块存储</a></li>
			  <li role="presentation" data-target="fileMan"><a><span class="glyphicon glyphicon-paperclip"></span>文件存储</a></li>
			  <!-- <li role="presentation" class="divider"></li>
			  <li role="presentation"><a><span class="glyphicon glyphicon-cloud"></span>上传下载</a></li> -->
			</ul>
		</div>
		<div class="dashBody dashboardItem">
			<div class="row" style="padding-top: 10px;">
				<div class="col-md-3" id="storage">
					<div class="icon">
						<span class="glyphicon glyphicon-cloud"></span>
					</div>
					<div class="detail">
						<h4>存储</h4>
						<small>1.5TB可用</small>
					</div>
					<div class="more">
						<span>查看详情</span>
						<span class="glyphicon glyphicon-share-alt"></span>
					</div>
				</div>
				<div class="col-md-3" id="health">
					<div class="icon">
						<span class="glyphicon glyphicon-eye-open"></span>
					</div>
					<div class="detail">
						<h4>状态</h4>
						<small>健康</small>
					</div>
					<div class="more">
						<span>查看详情</span>
						<span class="glyphicon glyphicon-share-alt"></span>
					</div>					
				</div>
				<div class="col-md-3" id="user">
					<div class="icon">
						<span class="glyphicon glyphicon-user"></span>
					</div>
					<div class="detail">
						<h4>用户</h4>
						<small>30名用户</small>
					</div>
					<div class="more">
						<span>查看详情</span>
						<span class="glyphicon glyphicon-share-alt"></span>
					</div>										
				</div>
				<div class="col-md-3" id="pool">
					<div class="icon">
						<span class="glyphicon glyphicon-hdd"></span>
					</div>
					<div class="detail">
						<h4>OSD</h4>
						<small>6个</small>
					</div>
					<div class="more">
						<span>查看详情</span>
						<span class="glyphicon glyphicon-share-alt"></span>
					</div>									
				</div>
			</div>
			<div class="row picture">
				<div id="hostUsed" style="width: 90%;height: 50vh;"></div>
			</div>
		</div>
		<div class="objectMan dashboardItem" style="display: none;">
			<h3>空间管理</h3>
			<div class="row">
				<table class="table table-bordered">
					<tr>
						<th>用户名</th>
						<th>存储使用</th>
						<th>操作</th>
					</tr>
					<tr>
						<td>guest</td>
						<td>
							<div class="progress">
							  <div class="progress-bar" role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100" style="width: 2%;">
							    2%
							  </div>
							</div>
						</td>
						<td>
							<a>扩容</a>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="dashMonitor dashboardItem" style="display: none;">
			<img src="utils/monitor.png" style="max-width: 100%;margin-left: -20px;margin-top: -3px;">
		</div>
		<div class="blockMan dashboardItem" style="display: none;">
			<h3>块管理</h3>
			<div class="row">
				<table class="table table-bordered">
					<tr>
						<th>用户名</th>
						<th>可用块</th>
						<th>操作</th>
					</tr>
					<tr>
						<td>guest</td>
						<td>
							<div>
								block1;block2;block3
							</div>
						</td>
						<td>
							<a>分配</a>
							<a>删除</a>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div class="fileMan dashboardItem" style="display: none;">
			<h3>文件管理</h3>
			<div class="row">
				<table class="table table-bordered">
					<tr>
						<th>用户名</th>
						<th>可用文件系统</th>
						<th>操作</th>
					</tr>
					<tr>
						<td>guest</td>
						<td>
							<div>
								cephfs://10.240.212.234
							</div>
						</td>
						<td>
							<a>新建</a>
							<a>删除</a>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>

	<script type="text/template" id="userNavTaskTpl">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown">
				<i class="glyphicon glyphicon-th-list"></i>
				<span class="badge"><%= datas.length %></span>
			</a>			
			<ul class="dropdown-menu extended tasks">
				<li>
					<p> 你有<%= datas.length %>个文件在上传</p>
				</li>
				<li role="presentation" class="divider"></li>
				<%  _.map(datas,function(item){ %>
				<li>
					<a href="#">
						<span class="task">
							<span class="desc"><%= item.name %></span>
						</span>
						<div class="progress">
							<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: <%= item.percentage %>;">
								<%= item.percentage %>
							</div>
						</div>
					</a>
				</li>	
				<% }) %>
			</ul>	
	</script>

	<script type="text/template" id="tableTpl">
		<%  _.map(datas,function(item){ %>
				<tr>
			  		<td><%= item.name %></td>
			  		<td><%= item.date %></td>
			  		<td><%= item.size %></td>
			  		<td>
			  			<a class="downloadFile" data-file="<%= item.name %>" href="<%= item.url %><%= item.name %>">
			  				<span class="glyphicon glyphicon-circle-arrow-down"></span>
			  				<span>下载</span>
			  			</a>
			  			<a class="deleteFile" data-file="<%= item.name %>">
							<span class="glyphicon glyphicon-remove-sign"></span>
			  				<span>删除</span>
			  			</a>
			  		</td>
			  	</tr>
		<% }) %>	  	
	</script>

	<div class="modal fade" id="check" tabindex="-2" role="dialog" data-backdrop="static">
	   <div class="modal-dialog">
	      <div class="modal-content">
	         <div class="modal-body"> 
	         	<div class="header"><span class="glyphicon glyphicon-remove" data-dismiss="modal"></span></div>
	         	<div id="info"></div>
        	</div> 
        	<div class="modal-footer">
	            <button type="button" class="btn" 
	               data-dismiss="modal">关闭
	            </button>
	            <button type="button" class="btn btn-primary" id="confirm" data-loading-text="Loading...">
	               确认
	            </button>
	         </div>
	      </div>
		</div>
	</div>	

</body>
</html>